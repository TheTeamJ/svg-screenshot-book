javascript: (function () { function g (a) { var b = a.pageX - d; a = a.pageY - e; c.style.width = b + "px"; c.style.height = a + "px"; return { width: b, height: a } } var h = document.querySelector("body"), b = document.createElement("div"); b.style.position = "fixed"; b.style.width = "100%"; b.style.height = "100%"; b.style.left = "0px"; b.style.top = "0px"; b.style.cursor = "crosshair"; b.style.zIndex = 30010; var c = document.createElement("div"); c.style.backgroundColor = "#ccc"; c.style.opacity = .5; c.style.position = "absolute"; c.style.zIndex = 3E4; var d = 0, e = 0; b.addEventListener("mousedown", function (a) { var b = a.pageY; d = a.pageX; c.style.left = d + "px"; e = b; c.style.top = e + "px"; c.style.width = "0px"; c.style.height = "0px"; h.appendChild(c) }, !1); b.addEventListener("mousemove", g, !1); b.addEventListener("mouseup", function (a) { a = g(a); var f = "http://localhost:8080/range/" + (d + "-" + e + "-" + a.width + "-" + a.height) + "/viewport/" + (window.innerWidth + "-" + window.innerHeight) + "?url=" + encodeURIComponent(location.href); prompt("puppeteer-svg-screenshot", f) && (a = new Image, a.onload = function () { }, a.onerror = function () { window.open(f) }, window.open(f)); b.remove(); c.remove() }, !1); h.appendChild(b) })();
